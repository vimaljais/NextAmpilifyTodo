{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[37],{\"9IVl\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"amplify_s3_image_picker\",(function(){return p}));var r=n(\"BidF\"),i=n(\"bBWg\"),a=n(\"+q38\"),o=n(\"zjmv\"),c=n(\"sgvX\"),l=(n(\"c/RQ\"),n(\"EN+p\"),n(\"hpR9\")),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function c(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}l((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},\"function\"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(c){a=[6,c],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},h=new i.a(\"S3ImagePicker\"),p=function(){function e(e){var t=this;Object(r.k)(this,e),this.contentType=\"binary/octet-stream\",this.level=o.a.Public,this.headerTitle=c.a.IMAGE_PICKER_TITLE,this.headerHint=c.a.IMAGE_PICKER_HINT,this.placeholderHint=c.a.IMAGE_PICKER_PLACEHOLDER_HINT,this.buttonText=c.a.IMAGE_PICKER_BUTTON_TEXT,this.handlePick=function(e){return u(t,void 0,void 0,(function(){var t,n,r,i,a,o,c,u,p,f;return s(this,(function(s){switch(s.label){case 0:n=(t=this).path,r=void 0===n?\"\":n,i=t.level,a=t.track,o=t.identityId,c=t.fileToKey,u=r+Object(l.b)(e,c),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,Object(l.e)(u,e,i,a,e.type,h)];case 2:return s.sent(),p=this,[4,Object(l.c)(u,i,a,o,h)];case 3:return p.src=s.sent(),[3,5];case 4:throw f=s.sent(),h.error(f),new Error(f);case 5:return[2]}}))}))}}return e.prototype.render=function(){return Object(r.i)(r.b,null,Object(r.i)(\"slot\",{name:\"photo-picker\"},Object(r.i)(\"amplify-photo-picker\",{previewSrc:this.src,handleClick:this.handlePick,headerTitle:a.a.get(this.headerTitle),headerHint:a.a.get(this.headerHint),placeholderHint:a.a.get(this.placeholderHint),buttonText:a.a.get(this.buttonText)})))},e}()}}]);","map":{"version":3,"sources":["static/chunks/37.1dc3e7226789c5bbf0ed.js"],"names":["window","push","9IVl","module","__webpack_exports__","__webpack_require__","r","d","AmplifyS3ImagePicker","_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__","_storage_types_f257c0f2_js__WEBPACK_IMPORTED_MODULE_3__","_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__","_storage_helpers_48c373a0_js__WEBPACK_IMPORTED_MODULE_7__","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","logger","class_1","hostRef","_this","Object","contentType","level","Public","headerTitle","IMAGE_PICKER_TITLE","headerHint","IMAGE_PICKER_HINT","placeholderHint","IMAGE_PICKER_PLACEHOLDER_HINT","buttonText","IMAGE_PICKER_BUTTON_TEXT","handlePick","file","_a","_b","path","track","identityId","fileToKey","key","_c","error_1","_d","src","error","Error","prototype","render","name","previewSrc","handleClick","get"],"mappings":"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"},"name":"static/chunks/37.1dc3e7226789c5bbf0ed.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[37],{\n\n/***/ \"9IVl\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_s3_image_picker\", function() { return AmplifyS3ImagePicker; });\n/* harmony import */ var _index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"BidF\");\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"bBWg\");\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"+q38\");\n/* harmony import */ var _storage_types_f257c0f2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"zjmv\");\n/* harmony import */ var _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"sgvX\");\n/* harmony import */ var _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"c/RQ\");\n/* harmony import */ var _aws_amplify_storage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"EN+p\");\n/* harmony import */ var _storage_helpers_48c373a0_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"hpR9\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\nvar logger = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* ConsoleLogger */ \"a\"]('S3ImagePicker');\nvar AmplifyS3ImagePicker = /** @class */ (function () {\n    function class_1(hostRef) {\n        var _this = this;\n        Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n        /** The content type header used when uploading to S3 */\n        this.contentType = 'binary/octet-stream';\n        /** The access level of the image */\n        this.level = _storage_types_f257c0f2_js__WEBPACK_IMPORTED_MODULE_3__[/* A */ \"a\"].Public;\n        /** Title string value */\n        this.headerTitle = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__[/* T */ \"a\"].IMAGE_PICKER_TITLE;\n        /** Header Hint value in string */\n        this.headerHint = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__[/* T */ \"a\"].IMAGE_PICKER_HINT;\n        /** Placeholder hint that goes under the placeholder image */\n        this.placeholderHint = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__[/* T */ \"a\"].IMAGE_PICKER_PLACEHOLDER_HINT;\n        /** Upload Button Text as string */\n        this.buttonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__[/* T */ \"a\"].IMAGE_PICKER_BUTTON_TEXT;\n        this.handlePick = function (file) { return __awaiter(_this, void 0, void 0, function () {\n            var _a, _b, path, level, track, identityId, fileToKey, key, _c, error_1;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _a = this, _b = _a.path, path = _b === void 0 ? '' : _b, level = _a.level, track = _a.track, identityId = _a.identityId, fileToKey = _a.fileToKey;\n                        key = path + Object(_storage_helpers_48c373a0_js__WEBPACK_IMPORTED_MODULE_7__[/* c */ \"b\"])(file, fileToKey);\n                        _d.label = 1;\n                    case 1:\n                        _d.trys.push([1, 4, , 5]);\n                        return [4 /*yield*/, Object(_storage_helpers_48c373a0_js__WEBPACK_IMPORTED_MODULE_7__[/* p */ \"e\"])(key, file, level, track, file['type'], logger)];\n                    case 2:\n                        _d.sent();\n                        _c = this;\n                        return [4 /*yield*/, Object(_storage_helpers_48c373a0_js__WEBPACK_IMPORTED_MODULE_7__[/* g */ \"c\"])(key, level, track, identityId, logger)];\n                    case 3:\n                        _c.src = _d.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        error_1 = _d.sent();\n                        logger.error(error_1);\n                        throw new Error(error_1);\n                    case 5: return [2 /*return*/];\n                }\n            });\n        }); };\n    }\n    class_1.prototype.render = function () {\n        return (Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", { name: \"photo-picker\" }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-photo-picker\", { previewSrc: this.src, handleClick: this.handlePick, headerTitle: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(this.headerTitle), headerHint: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(this.headerHint), placeholderHint: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(this.placeholderHint), buttonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(this.buttonText) }))));\n    };\n    return class_1;\n}());\n\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\vimal\\node_modules\\@aws-amplify\\ui-components\\dist\\esm-es5\\amplify-s3-image-picker.entry.js"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AAC0E;AACzB;AACc;AACpC;AACoC;AAC9B;AACH;AAC6E;AAC3G,iBAAiB,uEAAM;AACvB;AACA;AACA;AACA,QAAQ,oEAAgB;AACxB;AACA;AACA;AACA,qBAAqB,oEAAW;AAChC;AACA,2BAA2B,mEAAY;AACvC;AACA,0BAA0B,mEAAY;AACtC;AACA,+BAA+B,mEAAY;AAC3C;AACA,0BAA0B,mEAAY;AACtC,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,qCAAqC,8EAAO;AAC5C;AACA;AACA;AACA,6CAA6C,8EAAgB;AAC7D;AACA;AACA;AACA,6CAA6C,8EAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS,EAAE;AACX;AACA;AACA,gBAAgB,oEAAC,CAAC,4DAAI,QAAQ,oEAAC,UAAU,uBAAuB,EAAE,oEAAC,0BAA0B,kEAAkE,8DAAI,oCAAoC,8DAAI,wCAAwC,8DAAI,wCAAwC,8DAAI,uBAAuB;AAC1T;AACA;AACA,CAAC;AAC0D","file":"x","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, h, H as Host } from './index-3fb5c139.js';\nimport { Logger, I18n } from '@aws-amplify/core';\nimport { A as AccessLevel } from './storage-types-f257c0f2.js';\nimport '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport './constants-d1abe7de.js';\nimport '@aws-amplify/storage';\nimport { c as calcKey, p as putStorageObject, g as getStorageObject } from './storage-helpers-48c373a0.js';\nvar logger = new Logger('S3ImagePicker');\nvar AmplifyS3ImagePicker = /** @class */ (function () {\n    function class_1(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** The content type header used when uploading to S3 */\n        this.contentType = 'binary/octet-stream';\n        /** The access level of the image */\n        this.level = AccessLevel.Public;\n        /** Title string value */\n        this.headerTitle = Translations.IMAGE_PICKER_TITLE;\n        /** Header Hint value in string */\n        this.headerHint = Translations.IMAGE_PICKER_HINT;\n        /** Placeholder hint that goes under the placeholder image */\n        this.placeholderHint = Translations.IMAGE_PICKER_PLACEHOLDER_HINT;\n        /** Upload Button Text as string */\n        this.buttonText = Translations.IMAGE_PICKER_BUTTON_TEXT;\n        this.handlePick = function (file) { return __awaiter(_this, void 0, void 0, function () {\n            var _a, _b, path, level, track, identityId, fileToKey, key, _c, error_1;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _a = this, _b = _a.path, path = _b === void 0 ? '' : _b, level = _a.level, track = _a.track, identityId = _a.identityId, fileToKey = _a.fileToKey;\n                        key = path + calcKey(file, fileToKey);\n                        _d.label = 1;\n                    case 1:\n                        _d.trys.push([1, 4, , 5]);\n                        return [4 /*yield*/, putStorageObject(key, file, level, track, file['type'], logger)];\n                    case 2:\n                        _d.sent();\n                        _c = this;\n                        return [4 /*yield*/, getStorageObject(key, level, track, identityId, logger)];\n                    case 3:\n                        _c.src = _d.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        error_1 = _d.sent();\n                        logger.error(error_1);\n                        throw new Error(error_1);\n                    case 5: return [2 /*return*/];\n                }\n            });\n        }); };\n    }\n    class_1.prototype.render = function () {\n        return (h(Host, null, h(\"slot\", { name: \"photo-picker\" }, h(\"amplify-photo-picker\", { previewSrc: this.src, handleClick: this.handlePick, headerTitle: I18n.get(this.headerTitle), headerHint: I18n.get(this.headerHint), placeholderHint: I18n.get(this.placeholderHint), buttonText: I18n.get(this.buttonText) }))));\n    };\n    return class_1;\n}());\nexport { AmplifyS3ImagePicker as amplify_s3_image_picker };\n"]}}